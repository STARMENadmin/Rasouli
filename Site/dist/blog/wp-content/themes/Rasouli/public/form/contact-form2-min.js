!function(e,t){"use strict";"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.ContactForm=t()}(this,function(){"use strict";var e=function(t,r){if(!(this&&this instanceof e))return new e(t,r);t&&r&&(this.form=t instanceof Node?t:document.querySelector(t),this.endpoint=r.endpoint,this.send())};return e.prototype={hasClass:function(e,t){return new RegExp("(\\s|^)"+t+"(\\s|$)").test(e.className)},addClass:function(e,t){this.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},removeClass:function(e,t){this.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(\\s|^)"+t+"(\\s|$)")," ").replace(/^\s+|\s+$/g,""))},each:function(e,t){var r,s;for(r=0,s=e.length;r<s;r+=1)t(e[r],r,e)},template:function(e,t){var r;for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e=e.replace(new RegExp("{"+r+"}","g"),t[r]));return e},empty:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},removeElementsByClass:function(e){for(var t=document.getElementsByClassName(e);t.length>0;)t[0].parentNode.removeChild(t[0])},post:function(e,t,r,s){var a=new XMLHttpRequest;a.open("POST",e,!0),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),a.onreadystatechange=function(){if(4===this.readyState)if(200===this.status){var e="";try{e=JSON.parse(this.responseText)}catch(t){e=this.responseText}r.call(this,e)}else s.call(this,this.responseText)},a.send(t),a=null},param:function(e){return"string"==typeof e?e:Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")},send:function(){this.form.addEventListener("submit",function(e){e.preventDefault();var t=document.querySelectorAll(".form-control"),r;this.each(t,function(e,t){this.hasClass(e.parentNode,"has-error")&&(this.removeClass(e.parentNode,"has-error"),this.removeElementsByClass("help-block"))}.bind(this)),r={name:document.querySelector('input[name="form-name"]').value,nameLast:document.querySelector('input[name="form-nameLast"]').value,date:document.querySelector('input[name="form-date"]').value,email:document.querySelector('input[name="form-email"]').value,subject:document.querySelector('input[name="form-subject"]').value,message:document.querySelector('textarea[name="form-message"]').value},this.post(this.endpoint,this.param(r),this.feedback.bind(this),this.fail.bind(this))}.bind(this),!1)},feedback:function(e){if(e.success){var t=this.template('<div class="alert alert-success">{report}</div>',{report:e.message});$(".formSubmitButton").text("Submited"),$("input, textarea").val(""),$(".autoFillColor").removeClass("autoFillColor"),this.form.insertAdjacentHTML("beforeend",t)}else{if(e.errors.name){var r=document.querySelector('input[name="form-name"]').parentNode,s;this.addClass(r,"has-error"),s=this.template('<span class="help-block">{report}</span>',{report:e.errors.name}),r.insertAdjacentHTML("beforeend",s)}if(e.errors.name){var r=document.querySelector('input[name="form-namLast"]').parentNode,s;this.addClass(r,"has-error"),s=this.template('<span class="help-block">{report}</span>',{report:e.errors.name}),r.insertAdjacentHTML("beforeend",s)}if(e.errors.email){var a=document.querySelector('input[name="form-email"]').parentNode,s;this.addClass(a,"has-error"),s=this.template('<span class="help-block">{report}</span>',{report:e.errors.email}),a.insertAdjacentHTML("beforeend",s)}if(e.errors.subject){var n=document.querySelector('input[name="form-subject"]').parentNode,s;this.addClass(n,"has-error"),s=this.template('<span class="help-block">{report}</span>',{report:e.errors.subject}),n.insertAdjacentHTML("beforeend",s)}if(e.errors.message){var o=document.querySelector('textarea[name="form-message"]').parentNode,s;this.addClass(o,"has-error"),s=this.template('<span class="help-block">{report}</span>',{report:e.errors.message}),o.insertAdjacentHTML("beforeend",s)}}},fail:function(e){console.log(e)}},e});